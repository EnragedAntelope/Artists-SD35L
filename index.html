<!DOCTYPE html>
<html lang="en">
<!-- [Previous head section remains the same] -->

<script>
    async function fetchPrompt(artist) {
        try {
            // Handle special characters in the file name
            const fileName = artist.replace(/'/g, ''); // Remove apostrophes for file access
            const response = await fetch(`gallery-assets/${fileName}.txt`);
            if (!response.ok) throw new Error('Failed to fetch prompt');
            const text = await response.text();
            return text.trim();
        } catch (error) {
            console.error(`Error loading prompt for ${artist}:`, error);
            return 'Prompt not available';
        }
    }

    async function loadGallery() {
        const gallery = document.getElementById('imageGallery');
        
        // List of artists with correct file names
        const artists = [
            'AgnesLawrencePelton', 'AkihikoYoshida', 'AlbertoGiacometti', 'AlbrechtDurer',
            'AlexanderCalder', 'AlexGrey', 'AlexRoss', 'AlfredSisley', 'AlphonseMucha',
            'AndyWarhol', 'AnnibaleCarracci', 'ArtemisiaGentileschi', 'AugusteRenoir',
            'Banksy', 'Basquiat', 'BeatrixPotter', 'BernieWrightson', 'BillWatterson',
            'BobRoss', 'Botticelli', 'Canaletto', 'Caravaggio', 'CharlesMSchulz',
            'ChuckClose', 'ClaudeLorrain', 'ClaudeMonet', 'DaveMcKean', 'DavidHockney',
            'DiegoRivera', 'DiegoVelazquez', 'EdgarDegas', 'EdouardManet', 'EdwardHopper',
            'ElGreco', 'Escher', 'EugeneDelacroix', 'FrancisBacon', 'FranciscoGoya',
            'FrankFrazetta', 'FrankLloydWright', 'FridaKahlo', 'GeorgesSeurat',
            'GeorgiaO\'Keeffe', 'GiovanniBattistaTiepolo', 'GrantWood', 'GregRutkowski',
            'GustaveDore', 'GustaveMoreau', 'GustavKlimt', 'HayaoMiyazaki',
            'HenriCartierBresson', 'HenrideToulouseLautrec', 'HenriMatisse', 'HenriRousseau',
            'HenryMoore', 'HieronymusBosch', 'Hokusai', 'HRGiger', 'JacksonPollock',
            'JamesGurney', 'JamesJean', 'JamieHewlett', 'JeffKoons', 'JohannesVermeer',
            'JohnConstable', 'JohnSingerSargent', 'JosephTurner', 'KeithHaring',
            'LeonardodaVinci', 'LeonoraCarrington', 'LucianFreud', 'MarcChagall',
            'MarcelDuchamp', 'MarkRothko', 'MaxErnst', 'Michelangelo', 'Moebius',
            'NormanRockwell', 'PabloPicasso', 'PaulCezanne', 'PaulGauguin', 'PaulKlee',
            'PeterPaulRubens', 'PhilipKDick', 'PieterBruegel', 'PietMondrian', 'Raphael',
            'Rembrandt', 'ReneMagritte', 'RichardDadd', 'RobertCrumb', 'RobertMcCall',
            'RogerDean', 'RoyLichtenstein', 'SalvadorDali', 'SandroBotticelli',
            'SimonStalenhag', 'StanLee', 'StanleyDonwood', 'StudioGhibli', 'SydMead',
            'TakashiMurakami', 'TedNasmith', 'ThomasCole', 'ThomasKinkade', 'TimBurton',
            'Titian', 'TomofFinland', 'UtagawaHiroshige', 'VanEyck', 'VanGogh', 'Vermeer',
            'VictoNgai', 'VincentDiFate', 'WallyWood', 'WaltDisney', 'WalterCrane',
            'WassilyKandinsky', 'WayneBarlowe', 'WayneThiebaud', 'WilliamBlake',
            'WilliamHogarth', 'WilliamMorris', 'WilliamTurner', 'WinslowHomer',
            'YayoiKusama', 'YojiShinkawa', 'YoshitakaAmano', 'ZdzislawBeksinski'
        ];

        // Create and append gallery items
        for (const artist of artists) {
            const prompt = await fetchPrompt(artist);
            
            const item = document.createElement('div');
            item.className = 'gallery-item';
            
            // Format the artist name for display with special character handling
            const displayName = artist
                .replace(/'/g, ''') // Replace straight apostrophes with curly ones for display
                .replace(/([A-Z])/g, ' $1')
                .replace(/^./, str => str.toUpperCase())
                .trim();

            // Handle file names without apostrophes for images
            const fileName = artist.replace(/'/g, '');
            
            item.innerHTML = `
                <img src="gallery-assets/${fileName}.png" alt="${displayName}" loading="lazy">
                <div class="caption">
                    <div class="artist-name">${displayName}</div>
                    <div class="prompt">${prompt}</div>
                </div>
            `;
            
            gallery.appendChild(item);
        }
    }

    // Load gallery when page loads
    window.addEventListener('load', loadGallery);
</script>
</html>
